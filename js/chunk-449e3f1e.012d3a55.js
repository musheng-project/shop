(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-449e3f1e"],{"299f":function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var r=t("d4ec"),s=t("bee2"),i=function(){function e(){Object(r["a"])(this,e),this.usernameReg=/^[A-Za-z]\w{3,7}$/,this.pwdReg=/^(?=.*[A-Z])(?=.*[a-z])\w{6,16}$/}return Object(s["a"])(e,[{key:"validUsername",value:function(e){return this.usernameReg.test(e)}},{key:"validPwd",value:function(e){return this.pwdReg.test(e)}},{key:"validEqual",value:function(e,a){return e===a}}]),e}(),n=new i},"73cf":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"register animate__animated animate__fadeIn"},[t("div",{staticClass:"jp_register_head"},[t("van-nav-bar",{attrs:{title:"注册","left-arrow":""},on:{"click-left":e.back,"click-right":function(a){return e.registerGo({name:"register"})}}})],1),t("div",{staticClass:"jp_register_box"},[t("van-field",{attrs:{type:"text",label:"用户名",placeholder:"请输入用户名","error-message":e.user.errorMessage},on:{input:function(a){return e.validUsername(e.user.value)}},model:{value:e.user.value,callback:function(a){e.$set(e.user,"value",a)},expression:"user.value"}}),t("van-field",{attrs:{type:e.pwd1.type,label:"密码",placeholder:"请输入密码","right-icon":e.pwd1.icon,"error-message":e.pwd1.errorMessage},on:{"click-right-icon":function(a){return e.checkPwd(e.pwd1)},input:function(a){return e.validPwd(e.pwd1.value)}},model:{value:e.pwd1.value,callback:function(a){e.$set(e.pwd1,"value",a)},expression:"pwd1.value"}}),t("van-field",{attrs:{type:e.pwd2.type,label:"确认密码",placeholder:"请输入确认密码","right-icon":e.pwd2.icon,"error-message":e.pwd2.errorMessage},on:{"click-right-icon":function(a){return e.checkPwd(e.pwd2)},input:function(a){return e.validEqual(e.pwd1.value,e.pwd2.value)}},model:{value:e.pwd2.value,callback:function(a){e.$set(e.pwd2,"value",a)},expression:"pwd2.value"}}),t("van-button",{attrs:{color:"#ff464e",type:"default",block:"","loading-text":"注册中...",loading:e.isLoading,disabled:!e.isValid},on:{click:e.registerBtn}},[e._v("点击注册")])],1)])},s=[],i=t("299f"),n={name:"register",data:function(){return{user:{value:"",errorMessage:""},pwd1:{type:"password",value:"",icon:"closed-eye",errorMessage:""},pwd2:{type:"password",value:"",icon:"closed-eye",errorMessage:""},isLoading:!1,isValid:!1}},methods:{back:function(){this.$router.go(-1)},checkPwd:function(e){var a="password"===e.type;e.icon=a?"eye-o":"closed-eye",e.type=a?"text":"password"},registerBtn:function(){var e=this;e.isLoading=!0;var a=4*Math.random()*1e3;setTimeout((function(){var a=localStorage.getItem("users");a=a?JSON.parse(a):[];for(var t=0;t<a.length;t++)if(a[t].username==e.user.value)return e.$toast({duration:2e3,message:"该用户已存在"}),e.isLoading=!1,e.isValid=!1,void setTimeout((function(){e.emptyData()}),2e3);e.$toast({duration:2e3,message:"注册成功"}),e.isLoading=!1;var r=(new Date).getTime(),s={username:e.user.value,pwd:e.pwd1.value,time:r};a.push(s),localStorage.setItem("users",JSON.stringify(a)),e.$router.push("/login")}),a)},validUsername:function(e){var a=i["a"].validUsername(e);this.user.errorMessage=a?"":"用户名支持4-8个(字母数字_)组合，必须字母开头",this.passForm()},validPwd:function(e){var a=i["a"].validPwd(e);this.pwd1.errorMessage=a?"":"密码支持6-16个(字母数字_)组合，必须含有大小写字母",this.passForm()},validEqual:function(e,a){var t=i["a"].validEqual(e,a);this.pwd2.errorMessage=t?"":"两次密码不一致",this.passForm()},passForm:function(){this.isValid=""==this.user.errorMessage&&""!=this.user.value&&""==this.pwd1.errorMessage&&""!=this.pwd1.value&&""==this.pwd2.errorMessage&&""!=this.pwd2.value&&this.pwd1.value==this.pwd2.value},emptyData:function(){this.user.value="",this.pwd1.value="",this.pwd2.value=""}},created:function(){}},u=n,o=(t("759b"),t("2877")),l=Object(o["a"])(u,r,s,!1,null,"3cc1933a",null);a["default"]=l.exports},"759b":function(e,a,t){"use strict";var r=t("ab36"),s=t.n(r);s.a},ab36:function(e,a,t){}}]);
//# sourceMappingURL=chunk-449e3f1e.012d3a55.js.map