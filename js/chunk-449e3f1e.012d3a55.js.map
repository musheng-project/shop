{"version":3,"sources":["webpack:///./src/tool/validForm.js","webpack:///./src/views/Register.vue?54bc","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?79b9"],"names":["ValidForm","this","usernameReg","pwdReg","value","test","v1","v2","validForm","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","back","$event","registerGo","name","user","errorMessage","validUsername","model","callback","$$v","$set","expression","pwd1","type","icon","checkPwd","validPwd","pwd2","validEqual","isLoading","isValid","registerBtn","_v","staticRenderFns","data","methods","$router","go","key","isOpen","that","setTimeout","users","JSON","parse","i","username","$toast","duration","message","emptyData","pwd","time","push","userInfomation","localStorage","setItem","stringify","passForm","created","component"],"mappings":"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","file":"js/chunk-449e3f1e.012d3a55.js","sourcesContent":["class ValidForm {\r\n\r\n    constructor() {\r\n      //必须是字母开头, 4-8个字符\r\n      this.usernameReg = /^[A-Za-z]\\w{3,7}$/;\r\n  \r\n      //必须含有大写，小写，(字母数字_)组合，6-16位\r\n      this.pwdReg = /^(?=.*[A-Z])(?=.*[a-z])\\w{6,16}$/;\r\n    }\r\n  \r\n    //验证用户名\r\n    validUsername(value) {\r\n      return this.usernameReg.test(value);\r\n    }\r\n  \r\n    //验证密码\r\n    validPwd(value) {\r\n      return this.pwdReg.test(value)\r\n    }\r\n  \r\n    //验证两值相等\r\n    validEqual(v1, v2) {\r\n      return v1 === v2;\r\n    }\r\n  \r\n  }\r\n  \r\n  export const validForm = new ValidForm();","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register animate__animated animate__fadeIn\"},[_c('div',{staticClass:\"jp_register_head\"},[_c('van-nav-bar',{attrs:{\"title\":\"注册\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.back,\"click-right\":function($event){return _vm.registerGo({name:'register'})}}})],1),_c('div',{staticClass:\"jp_register_box\"},[_c('van-field',{attrs:{\"type\":\"text\",\"label\":\"用户名\",\"placeholder\":\"请输入用户名\",\"error-message\":_vm.user.errorMessage},on:{\"input\":function($event){return _vm.validUsername(_vm.user.value)}},model:{value:(_vm.user.value),callback:function ($$v) {_vm.$set(_vm.user, \"value\", $$v)},expression:\"user.value\"}}),_c('van-field',{attrs:{\"type\":_vm.pwd1.type,\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"right-icon\":_vm.pwd1.icon,\"error-message\":_vm.pwd1.errorMessage},on:{\"click-right-icon\":function($event){return _vm.checkPwd(_vm.pwd1)},\"input\":function($event){return _vm.validPwd(_vm.pwd1.value)}},model:{value:(_vm.pwd1.value),callback:function ($$v) {_vm.$set(_vm.pwd1, \"value\", $$v)},expression:\"pwd1.value\"}}),_c('van-field',{attrs:{\"type\":_vm.pwd2.type,\"label\":\"确认密码\",\"placeholder\":\"请输入确认密码\",\"right-icon\":_vm.pwd2.icon,\"error-message\":_vm.pwd2.errorMessage},on:{\"click-right-icon\":function($event){return _vm.checkPwd(_vm.pwd2)},\"input\":function($event){return _vm.validEqual(_vm.pwd1.value,_vm.pwd2.value)}},model:{value:(_vm.pwd2.value),callback:function ($$v) {_vm.$set(_vm.pwd2, \"value\", $$v)},expression:\"pwd2.value\"}}),_c('van-button',{attrs:{\"color\":\"#ff464e\",\"type\":\"default\",\"block\":\"\",\"loading-text\":\"注册中...\",\"loading\":_vm.isLoading,\"disabled\":!_vm.isValid},on:{\"click\":_vm.registerBtn}},[_vm._v(\"点击注册\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register animate__animated animate__fadeIn\">\r\n    <div class=\"jp_register_head\">\r\n      <van-nav-bar\r\n        title=\"注册\"\r\n        left-arrow\r\n        @click-left=\"back\"\r\n        @click-right=\"registerGo({name:'register'})\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"jp_register_box\">\r\n      <van-field\r\n        v-model=\"user.value\"\r\n        type=\"text\"\r\n        label=\"用户名\"\r\n        placeholder=\"请输入用户名\"\r\n        :error-message=\"user.errorMessage\"\r\n        @input=\"validUsername(user.value)\"\r\n      />\r\n      <van-field\r\n        v-model=\"pwd1.value\"\r\n        :type=\"pwd1.type\"\r\n        label=\"密码\"\r\n        placeholder=\"请输入密码\"\r\n        :right-icon=\"pwd1.icon\"\r\n        :error-message=\"pwd1.errorMessage\"\r\n        @click-right-icon=\"checkPwd(pwd1)\"\r\n        @input=\"validPwd(pwd1.value)\"\r\n      />\r\n      <van-field\r\n        v-model=\"pwd2.value\"\r\n        :type=\"pwd2.type\"\r\n        label=\"确认密码\"\r\n        placeholder=\"请输入确认密码\"\r\n        :right-icon=\"pwd2.icon\"\r\n        :error-message=\"pwd2.errorMessage\"\r\n        @click-right-icon=\"checkPwd(pwd2)\"\r\n        @input=\"validEqual(pwd1.value,pwd2.value)\"\r\n      />\r\n\r\n      <van-button\r\n        color=\"#ff464e\"\r\n        type=\"default\"\r\n        block\r\n        loading-text=\"注册中...\"\r\n        :loading=\"isLoading\"\r\n        @click=\"registerBtn\"\r\n        :disabled=\"!isValid\"\r\n      >点击注册</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { validForm } from \"../tool/validForm\";\r\n\r\nexport default {\r\n  name: \"register\",\r\n\r\n  data() {\r\n    return {\r\n      //用户名\r\n      user: {\r\n        value: \"\",\r\n        errorMessage: \"\"\r\n      },\r\n      // 密码\r\n      pwd1: {\r\n        type: \"password\",\r\n        value: \"\",\r\n        icon: \"closed-eye\",\r\n        errorMessage: \"\"\r\n      },\r\n      // 确认密码\r\n      pwd2: {\r\n        type: \"password\",\r\n        value: \"\",\r\n        icon: \"closed-eye\",\r\n        errorMessage: \"\"\r\n      },\r\n      //注册加载中\r\n      isLoading: false,\r\n\r\n      // 控制注册按钮的状态\r\n      isValid: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 返回上一层\r\n    back() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    // 查看密码\r\n    checkPwd(key) {\r\n      let isOpen = key.type === \"password\";\r\n\r\n      key.icon = isOpen ? \"eye-o\" : \"closed-eye\";\r\n      key.type = isOpen ? \"text\" : \"password\";\r\n    },\r\n\r\n    // 点击注册\r\n    registerBtn() {\r\n      let that = this;\r\n\r\n      // 注册\r\n      that.isLoading = true;\r\n\r\n      // // 保存数据\r\n      // localStorage.setItem(\"key\", \"value\");\r\n      // // 读取数据\r\n      // localStorage.getItem(\"key\");\r\n      // // 删除数据\r\n      // localStorage.removeItem(\"key\");\r\n\r\n      let randomTime = Math.random() * 4 * 1000;\r\n\r\n      setTimeout(function() {\r\n        // 获取所有用户信息\r\n        let users = localStorage.getItem(\"users\");\r\n\r\n        //将JSON.parse(users)解析出json对象\r\n        users = users ? JSON.parse(users) : [];\r\n        // console.log(\"users ==>\", users);\r\n\r\n        // 判断当前用户是否存在\r\n        for (let i = 0; i < users.length; i++) {\r\n          if (users[i].username == that.user.value) {\r\n            // 注册成功提示\r\n            that.$toast({\r\n              duration: 2000,\r\n              message: \"该用户已存在\"\r\n            });\r\n\r\n            that.isLoading = false;\r\n            that.isValid = false;\r\n\r\n            setTimeout(function() {\r\n              that.emptyData();\r\n            }, 2000);\r\n\r\n            return;\r\n          }\r\n        }\r\n\r\n        // 注册成功提示\r\n        that.$toast({\r\n          duration: 2000,\r\n          message: \"注册成功\"\r\n        });\r\n\r\n        that.isLoading = false;\r\n\r\n        // 获取时间戳\r\n        let time = new Date().getTime();\r\n\r\n        // 记录用户信息\r\n        let userInfomation = {\r\n          // 用户名\r\n          username: that.user.value,\r\n          // 密码\r\n          pwd: that.pwd1.value,\r\n          // 注册时间\r\n          time\r\n        };\r\n\r\n        // 将当前用户信息推入users\r\n        users.push(userInfomation);\r\n\r\n        // 写入本地存储，模拟数据库\r\n        localStorage.setItem(\"users\", JSON.stringify(users)); //转换成json字符串序列\r\n\r\n        that.$router.push(\"/login\");\r\n      }, randomTime);\r\n    },\r\n\r\n    // 输入验证表单\r\n    validUsername(value) {\r\n      let isValid = validForm.validUsername(value);\r\n\r\n      this.user.errorMessage = isValid\r\n        ? \"\"\r\n        : \"用户名支持4-8个(字母数字_)组合，必须字母开头\";\r\n\r\n      this.passForm();\r\n    },\r\n\r\n    // 输入验证密码\r\n    validPwd(value) {\r\n      let isValid = validForm.validPwd(value);\r\n\r\n      this.pwd1.errorMessage = isValid\r\n        ? \"\"\r\n        : \"密码支持6-16个(字母数字_)组合，必须含有大小写字母\";\r\n\r\n      this.passForm();\r\n    },\r\n    // 输入验证两次密码是否相等\r\n    validEqual(v1, v2) {\r\n      let isValid = validForm.validEqual(v1, v2);\r\n\r\n      this.pwd2.errorMessage = isValid ? \"\" : \"两次密码不一致\";\r\n\r\n      this.passForm();\r\n    },\r\n\r\n    // 输入内容不为空时开启注册按钮\r\n    passForm() {\r\n      this.isValid =\r\n        this.user.errorMessage == \"\" &&\r\n        this.user.value != \"\" &&\r\n        this.pwd1.errorMessage == \"\" && this.pwd1.value != \"\" &&\r\n        this.pwd2.errorMessage == \"\" && this.pwd2.value != \"\" &&\r\n        this.pwd1.value == this.pwd2.value;\r\n    },\r\n\r\n    // 清空数据\r\n    emptyData() {\r\n      this.user.value = \"\";\r\n      this.pwd1.value = \"\";\r\n      this.pwd2.value = \"\";\r\n    }\r\n  },\r\n\r\n  created() {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.register {\r\n  width: 100%;\r\n  background-color: #fff;\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  .jp_register_head {\r\n    /deep/.van-nav-bar {\r\n      // background: #ff5a61;\r\n      .van-icon,\r\n      .van-nav-bar__title,\r\n      .van-nav-bar__text {\r\n        color: #333;\r\n        font-size: 18px;\r\n      }\r\n      .van-nav-bar__text {\r\n        font-size: 15px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .jp_register_box {\r\n    background-color: #fff;\r\n    .van-button {\r\n      width: calc(100% - 20px);\r\n      font-size: 18px;\r\n      margin: 0 10px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=3cc1933a&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=3cc1933a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cc1933a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=3cc1933a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=3cc1933a&lang=less&scoped=true&\""],"sourceRoot":""}