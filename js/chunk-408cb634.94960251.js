(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-408cb634"],{"0739":function(e,t,a){},"299f":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("d4ec"),s=a("bee2"),i=function(){function e(){Object(n["a"])(this,e),this.usernameReg=/^[A-Za-z]\w{3,7}$/,this.pwdReg=/^(?=.*[A-Z])(?=.*[a-z])\w{6,16}$/}return Object(s["a"])(e,[{key:"validUsername",value:function(e){return this.usernameReg.test(e)}},{key:"validPwd",value:function(e){return this.pwdReg.test(e)}},{key:"validEqual",value:function(e,t){return e===t}}]),e}(),r=new i},3021:function(e,t,a){"use strict";var n=a("0739"),s=a.n(n);s.a},a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login animate__animated animate__fadeIn"},[a("div",{staticClass:"jp_login_head"},[a("van-nav-bar",{attrs:{title:"登录","right-text":"注册","left-arrow":""},on:{"click-left":e.back,"click-right":function(t){return e.registerGo({name:"register"})}}})],1),a("div",{staticClass:"jp_login_box"},[a("van-field",{attrs:{type:e.user.type,label:"用户名",placeholder:"请输入用户名","error-message":e.user.errorMessage},on:{input:function(t){return e.validUsername(e.user.value)}},model:{value:e.user.value,callback:function(t){e.$set(e.user,"value",t)},expression:"user.value"}}),a("van-field",{attrs:{type:e.pwd.type,label:"密码","right-icon":e.pwd.icon,placeholder:"请输入密码","error-message":e.pwd.errorMessage},on:{"click-right-icon":function(t){return e.checkPwd(e.pwd)},input:function(t){return e.validPwd(e.pwd.value)}},model:{value:e.pwd.value,callback:function(t){e.$set(e.pwd,"value",t)},expression:"pwd.value"}}),a("van-button",{attrs:{type:"default",color:"#ff464e",loading:e.isLoading,disabled:!e.isValid},on:{click:e.loginBtn}},[e._v("登录")]),a("div",{staticClass:"jp_login_other"},[a("div",{staticClass:"jp_login_text"},[e._v("第三方账号快速登录")]),a("van-row",{attrs:{type:"flex",justify:"center",align:"center"}},[a("van-col",{attrs:{span:"6",justify:"center",align:"center"}},[a("van-icon",{attrs:{name:"//jp.juancdn.com/jpwebapp_v1/images_v1/user/tencent.png"}})],1),a("van-col",{attrs:{span:"6",justify:"center",align:"center"}},[a("van-icon",{attrs:{name:"//jp.juancdn.com/jpwebapp_v1/images_v1/user/taobao.png"}})],1),a("van-col",{attrs:{span:"6",justify:"center",align:"center"}},[a("van-icon",{attrs:{name:"//jp.juancdn.com/jpwebapp_v1/images_v1/user/sina.png"}})],1)],1)],1)],1)])},s=[],i=a("299f"),r={name:"login",data:function(){return{user:{value:"",errorMessage:"",type:"text"},pwd:{value:"",errorMessage:"",type:"password",icon:"closed-eye"},isLoading:!1,isValid:!1}},methods:{back:function(){this.$router.go(-1)},registerGo:function(e){this.$router.push(e)},validUsername:function(e){var t=i["a"].validUsername(e);this.user.errorMessage=t?"":"用户名支持4-8个(字母数字_)组合，必须字母开头",this.passForm()},validPwd:function(e){var t=i["a"].validPwd(e);this.pwd.errorMessage=t?"":"密码支持6-16个(字母数字_)组合，必须含有大小写字母",this.passForm()},checkPwd:function(e){var t="password"==e.type;e.type=t?"text":"password",e.icon=t?"eye-o":"closed-eye"},loginBtn:function(){var e=this;this.isLoading=!0;var t=localStorage.getItem("users");t=t?JSON.parse(t):[];var a=4*Math.random()*1e3;setTimeout((function(){for(var a=0;a<t.length;a++)if(t[a].username==e.user.value){if(t[a].pwd==e.pwd.value){e.$toast({duration:2e3,message:"登录成功"}),e.isValid=!1,e.isLoading=!1;var n={isLogin:!0,username:e.user.value};return localStorage.setItem("user",JSON.stringify(n)),e.$router.push("/home")}return e.$toast({duration:2e3,message:"用户名或者密码不正确"}),e.isValid=!1,e.isLoading=!1,void setTimeout((function(){e.emptyData()}),2e3)}e.$toast({duration:2e3,message:"该用户不存在"}),e.isValid=!1,e.isLoading=!1,setTimeout((function(){e.emptyData()}),2e3)}),a)},passForm:function(){this.isValid=""==this.user.errorMessage&&""!=this.user.value&&""==this.pwd.errorMessage&&""!=this.pwd.value},emptyData:function(){this.user.value="",this.pwd.value=""}}},o=r,u=(a("3021"),a("2877")),l=Object(u["a"])(o,n,s,!1,null,"ab9091f2",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-408cb634.94960251.js.map